---
import Layout from '../../layouts/Layout.astro';
import PostList from '../../components/PostList.astro';
import { getFilteredPaths } from '../../utils/collections';
import type { GetStaticPaths } from 'astro';

export const getStaticPaths: GetStaticPaths = async () => {
  return await getFilteredPaths('tag');
};

const { tag } = Astro.params;
const { posts } = Astro.props;

if (!tag) {
  throw new Error('Tag parameter is required');
}
---

<Layout title={`Posts tagged with ${tag} | Dresden Blockchain`}>
  <PostList
    posts={posts}
    filterType="tag"
    filterValue={tag}
    title={`Posts tagged with "${tag}"`}
  />
</Layout>

