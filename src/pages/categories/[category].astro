---
import Layout from '../../layouts/Layout.astro';
import PostList from '../../components/PostList.astro';
import { getFilteredPaths } from '../../utils/collections';
import type { GetStaticPaths } from 'astro';

export const getStaticPaths: GetStaticPaths = async () => {
  return await getFilteredPaths('category');
};

const { category } = Astro.params;
const { posts } = Astro.props;

if (!category) {
  throw new Error('Category parameter is required');
}
---

<Layout title={`Posts in category ${category} | Dresden Blockchain`}>
  <PostList
    posts={posts}
    filterType="category"
    filterValue={category}
    title={`Posts in category "${category}"`}
  />
</Layout>

